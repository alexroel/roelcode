---
import "@/styles/global.css";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import Head from "@/components/Head.astro";

export interface Props {
  title: string;
  description?: string;
  image?: string;
  canonical?: string;
  type?: "website" | "article" | "course" | "profile";
  schema?: any;
  keywords?: string;
  author?: string;
  publishedTime?: string;
  modifiedTime?: string;
}

const {
  title,
  description,
  image,
  canonical,
  type,
  schema,
  keywords,
  author,
  publishedTime,
  modifiedTime,
} = Astro.props;
---

<!doctype html>
<html lang="es" data-theme="dark">
  <Head
    title={title}
    description={description}
    image={image}
    canonical={canonical}
    type={type}
    schema={schema}
    keywords={keywords}
    author={author}
    publishedTime={publishedTime}
    modifiedTime={modifiedTime}
  />
  <body
    class="bg-slate-100 dark:bg-slate-900 text-slate-950 dark:text-slate-50 font-inter antialiased"
  >
    <Header />
    <main class="min-h-screen">
      <slot />
    </main>
    <Footer />

    <script is:inline>
      // Initialize theme on page load
      function setTheme(mode) {
        if (mode === "system") {
          localStorage.removeItem("theme");
          const prefersDark = window.matchMedia(
            "(prefers-color-scheme: dark)"
          ).matches;
          document.documentElement.setAttribute(
            "data-theme",
            prefersDark ? "dark" : "light"
          );
        } else {
          localStorage.setItem("theme", mode);
          document.documentElement.setAttribute("data-theme", mode);
        }
      }

      window.setTheme = setTheme;
    </script>
  </body>
</html>
