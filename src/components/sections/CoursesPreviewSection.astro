---
import CourseCarousel from "@/components/courses/CourseCarousel.astro";
import { udemyCourses } from "@/data/udemy-courses";

const popularCourses = udemyCourses
  .filter((course) => course.newCourse === true || course.popular === true)
  .sort((a, b) => {
    // Primero los nuevos, luego los populares
    if (a.newCourse && !b.newCourse) return -1;
    if (!a.newCourse && b.newCourse) return 1;
    // Si ambos son nuevos o ambos son populares, mantener orden original
    return 0;
  });
---

<section class="py-16 bg-gray-100 dark:bg-gray-900">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl font-bold text-black dark:text-white mb-8 text-center">
      Cursos Nuevos y Más Destacados
    </h2>
    <p class="text-center text-gray-800 mb-8 dark:text-gray-300">
      Los cursos más populares son los que más estudiantes han elegido. Aquí
      podrás ver los cursos más populares y los que más estudiantes han elegido.
    </p>
    <CourseCarousel courses={popularCourses} />
  </div>
</section>
